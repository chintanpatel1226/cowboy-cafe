@page
@using CowboyCafe.Data;
@model IndexModel
@{
    ViewData["Title"] = "Home page";
    <!-- throw new Exception("Testing..."); -->
}
<div class="text-center">
    <h1 class="display-4">Howdy y'all! Welcome to Cowboy Cafe!</h1>
    <p>
        We at Cowboy Cafe are proud to bring you authentic trail meals from the American West. Shake off the dust
        on your boots and sake your thirst with one of our old-fashioned hand-jerked sodas. Dip your Pan de
        Campo into a bowl of beans. Or conquer the the mighty Texas Triple Burger! You’ve had a hard ride - so take
        it easy with us.
    </p>
    <form>
        <div class="options-bar">
            <div class="search">
                <input type="text" name="SearchTerms" />
                <input type="submit" value="Search" />
            </div>
            <div class="options">
                <label>
                    Entree
                    <input type="checkbox" name="Options" value="Entree" checked="@Model.Options.Contains("Entree")" />
                </label>
                <label>
                    Sides
                    <input type="checkbox" name="Options" value="Sides" checked="@Model.Options.Contains("Sides")" />
                </label>
                <label>
                    Drinks
                    <input type="checkbox" name="Options" value="Drinks" checked="@Model.Options.Contains("Drinks")" />
                </label>
            </div>
            <div class="ranges">
                <label>
                    Price Range:
                    <input name="PriceMin" type="number" min="0" max="20" step="0.1" placeholder="0" value="@Model.PriceMin" />
                    and
                    <input name="PriceMax" type="number" min="0" max="20" step="0.1" placeholder="20" value="@Model.PriceMax" />
                </label>
                <label>
                    Calories Range:
                    <input name="CaloriesMin" type="number" min="0" max="1000" step="1" placeholder="0" value="@Model.CaloriesMin" />
                    and
                    <input name="CaloriesMax" type="number" min="0" max="1000" step="1" placeholder="1000" value="@Model.CaloriesMax" />
                </label>
            </div>
        </div>
        <div class="options-display">
            <div class="column">
                <h2 class="menu-category">Entrees</h2>
                @foreach (Entree item in Menu.Entrees())
                {
                    <div class="menu-item">
                        <h4>@item.ToString()</h4>
                        <div class="menu-informaton">
                            <ul>
                                <li>Price: $@string.Format("{0:#.00}", item.Price), Calories - @item.Calories</li>
                            </ul>
                        </div>
                    </div>
                }
            </div>
            <div class="column">
                <h2 class="menu-category">Sides</h2>
                @foreach (Side item in Menu.Sides())
                {
                    <div class="menu-item">
                        <h4>@item.Name</h4>
                        <div class="menu-informaton">
                            <h5>Small</h5>
                            <ul>
                                @{ item.Size = Size.Small;}
                                <li>Price: $@string.Format("{0:#.00}", item.Price), Calories - @item.Calories</li>
                            </ul>
                            <h5>Medium</h5>
                            <ul>
                                @{ item.Size = Size.Medium;}
                                <li>Price: $@string.Format("{0:#.00}", item.Price), Calories - @item.Calories</li>
                            </ul>
                            <h5>Large</h5>
                            <ul>
                                @{ item.Size = Size.Large;}
                                <li>Price: $@string.Format("{0:#.00}", item.Price), Calories - @item.Calories</li>
                            </ul>
                        </div>
                    </div>
                }
            </div>
            <div class="column">
                <h2 class="menu-category">Drinks</h2>
                @foreach (Drink item in Menu.Drinks())
                {
                    <div class="menu-item">
                        <h4>@item.Name</h4>
                        @if (item is JerkedSoda soda)
                        {
                            <p>Options: CreamSoda, Orange Soda, Sarsparilla, BirchBeer, and RootBeer</p>
                        }
                        @if (item is CowboyCoffee coffee)
                        {
                            <p>Options: Decaf and Room for Cream</p>
                        }
                        @if (item is Water water)
                        {
                            <p>Options: Lemon</p>
                        }
                        <div class="menu-informaton">
                            <h5>Small</h5>
                            <ul>
                                @{ item.Size = Size.Small;}
                                <li>Price: $@string.Format("{0:#.00}", item.Price), Calories - @item.Calories</li>
                                @if (item is TexasTea smallTea)
                                {
                                    smallTea.Sweet = false;
                                    <li>(Unsweetened) Price: $@string.Format("{0:#.00}", item.Price), Calories - @item.Calories</li>
                                }
                            </ul>
                            <h5>Medium</h5>
                            <ul>
                                @{ item.Size = Size.Medium;}
                                <li>Price: $@string.Format("{0:#.00}", item.Price), Calories - @item.Calories</li>
                                @if (item is TexasTea mediumTea)
                                {
                                    mediumTea.Sweet = false;
                                    <li>(Unsweetened) Price: $@string.Format("{0:#.00}", item.Price), Calories - @item.Calories</li>
                                }
                            </ul>
                            <h5>Large</h5>
                            <ul>
                                @{ item.Size = Size.Large;}
                                <li>Price: $@string.Format("{0:#.00}", item.Price), Calories - @item.Calories</li>
                                @if (item is TexasTea largeTea)
                                {
                                    largeTea.Sweet = false;
                                    <li>(Unsweetened) Price: $@string.Format("{0:#.00}", item.Price), Calories - @item.Calories</li>
                                }
                            </ul>
                        </div>
                    </div>
                }
            </div>
        </div>
    </form>
</div>
